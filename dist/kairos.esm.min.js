/*!
 * Kairos v1.0.0
 * (c) 2025 Ersin Koc
 * Released under the MIT License
 * https://github.com/ersinkoc/kairos
 */
class e{constructor(e=1e3){this.cache=new Map,this.maxSize=e}get(e){const t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){const e=this.cache.keys().next().value;void 0!==e&&this.cache.delete(e)}this.cache.set(e,t)}has(e){return this.cache.has(e)}clear(){this.cache.clear()}size(){return this.cache.size}}function t(t,a){const n=new e;return(...e)=>{const s=a?a(...e):JSON.stringify(e);if(n.has(s))return n.get(s);const r=t(...e);return n.set(s,r),r}}function a(){return new e(1e4)}function n(){return new e(5e3)}function s(e){return e instanceof Date&&!isNaN(e.getTime())}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function i(e){return"string"==typeof e&&e.length>0}function o(e){return r(e)&&e>=1e3&&e<=9999}function l(e){return r(e)&&e>=1&&e<=12}function d(e){return r(e)&&e>=1&&e<=31}function u(e){return r(e)&&e>=0&&e<=6}function c(e){return r(e)&&(e>=1&&e<=5||-1===e)}function h(e){const t=[];if(!e||"object"!=typeof e)return t.push("Rule must be an object"),t;i(e.name)||t.push("Rule name must be a non-empty string");const a=["fixed","nth-weekday","relative","lunar","easter-based","custom"];if(a.includes(e.type)||t.push(`Rule type must be one of: ${a.join(", ")}`),!e.rule||"object"!=typeof e.rule)return t.push("Rule must have a rule property"),t;switch(e.type){case"fixed":l(e.rule.month)||t.push("Fixed rule month must be 1-12"),d(e.rule.day)||t.push("Fixed rule day must be 1-31");break;case"nth-weekday":l(e.rule.month)||t.push("Nth-weekday rule month must be 1-12"),u(e.rule.weekday)||t.push("Nth-weekday rule weekday must be 0-6"),c(e.rule.nth)||t.push("Nth-weekday rule nth must be 1-5 or -1");break;case"relative":i(e.rule.relativeTo)||t.push("Relative rule relativeTo must be a non-empty string"),r(e.rule.offset)||t.push("Relative rule offset must be a number");break;case"lunar":const a=["islamic","chinese","hebrew","persian"];a.includes(e.rule.calendar)||t.push(`Lunar rule calendar must be one of: ${a.join(", ")}`),l(e.rule.month)||t.push("Lunar rule month must be 1-12"),d(e.rule.day)||t.push("Lunar rule day must be 1-31");break;case"easter-based":r(e.rule.offset)||t.push("Easter-based rule offset must be a number");break;case"custom":"function"!=typeof e.rule.calculate&&t.push("Custom rule must have a calculate function")}return t}function y(e,t){const a=new Error(e);throw t&&(a.code=t),a}const m=new e(1e3);class g{constructor(e){this._date=this.parseInput(e)}parseInput(e){if(void 0===e)return new Date;if(e instanceof Date)return new Date(e.getTime());if("number"==typeof e)return isNaN(e)?new Date(NaN):new Date(e);if("string"==typeof e){if("invalid"===e.toLowerCase()||""===e)return new Date(NaN);if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,a,n]=e.split("-").map(Number);if(a<1||a>12)return new Date(NaN);const s=new Date(t,a-1,n,0,0,0,0);return s.getFullYear()!==t||s.getMonth()!==a-1||s.getDate()!==n?new Date(NaN):s}const t=new Date(e);return isNaN(t.getTime())?(g.config.strict&&y(`Invalid date string: ${e}`,"INVALID_DATE"),new Date(NaN)):t}if(e&&"object"==typeof e){if("_date"in e&&e._date instanceof Date)return new Date(e._date.getTime());if("function"==typeof e.toDate)return e.toDate();if("year"in e&&"month"in e&&"day"in e){const t=e,a=t.year,n=t.month-1,s=t.day,r=t.hour||0,i=t.minute||0,o=t.second||0,l=t.millisecond||0,d=new Date(a,n,s,r,i,o,l);return d.getFullYear()!==a||d.getMonth()!==n||d.getDate()!==s?new Date(NaN):d}if("date"in e){const t=e.date;if(t instanceof Date)return new Date(t.getTime())}}return new Date(NaN)}valueOf(){return this._date.getTime()}toString(){return this._date.toString()}toISOString(){return this._date.toISOString()}offset(){return-this._date.getTimezoneOffset()}toDate(){return new Date(this._date.getTime())}clone(){return new g(this._date)}year(e){if(void 0===e)return this._date.getFullYear();const t=this.clone();return t._date.setFullYear(e),t}month(e){if(void 0===e)return this._date.getMonth()+1;const t=this.clone();return t._date.setMonth(e-1),t}date(e){if(void 0===e)return this._date.getDate();const t=this.clone();return t._date.setDate(e),t}day(){return this._date.getDay()}hour(e){if(void 0===e)return this._date.getHours();const t=this.clone();return t._date.setHours(e),t}minute(e){if(void 0===e)return this._date.getMinutes();const t=this.clone();return t._date.setMinutes(e),t}second(e){if(void 0===e)return this._date.getSeconds();const t=this.clone();return t._date.setSeconds(e),t}millisecond(e){if(void 0===e)return this._date.getMilliseconds();const t=this.clone();return t._date.setMilliseconds(e),t}add(e,t){if(!this.isValid())return this.clone();const a=this.clone();switch(this.normalizeUnit(t)){case"year":a._date.setFullYear(a._date.getFullYear()+e);break;case"month":{const t=a._date.getDate();let n=a._date.getMonth()+e,s=a._date.getFullYear();for(;n<0;)n+=12,s--;for(;n>=12;)n-=12,s++;const r=new Date(s,n+1,0).getDate();a._date.setDate(1),a._date.setFullYear(s),a._date.setMonth(n),a._date.setDate(Math.min(t,r));break}case"week":a._date.setDate(a._date.getDate()+7*e);break;case"day":if(e%1!=0){const t=Math.floor(e),n=24*(e-t);a._date.setDate(a._date.getDate()+t),a._date.setHours(a._date.getHours()+n)}else a._date.setDate(a._date.getDate()+e);break;case"hour":a._date.setHours(a._date.getHours()+e);break;case"minute":a._date.setMinutes(a._date.getMinutes()+e);break;case"second":a._date.setSeconds(a._date.getSeconds()+e);break;case"millisecond":a._date.setMilliseconds(a._date.getMilliseconds()+e);break;default:y(`Unknown unit: ${t}`,"INVALID_UNIT")}return a}subtract(e,t){return this.add(-e,t)}startOf(e){const t=this.clone();switch(this.normalizeUnit(e)){case"year":t._date.setMonth(0,1),t._date.setHours(0,0,0,0);break;case"month":t._date.setDate(1),t._date.setHours(0,0,0,0);break;case"week":const e=t._date.getDay();t._date.setDate(t._date.getDate()-e),t._date.setHours(0,0,0,0);break;case"day":t._date.setHours(0,0,0,0);break;case"hour":t._date.setMinutes(0,0,0);break;case"minute":t._date.setSeconds(0,0);break;case"second":t._date.setMilliseconds(0)}return t}endOf(e){const t=this.clone();switch(this.normalizeUnit(e)){case"year":t._date.setMonth(11,31),t._date.setHours(23,59,59,999);break;case"month":t._date.setMonth(t._date.getMonth()+1,0),t._date.setHours(23,59,59,999);break;case"week":const e=t._date.getDay();t._date.setDate(t._date.getDate()+(6-e)),t._date.setHours(23,59,59,999);break;case"day":t._date.setHours(23,59,59,999);break;case"hour":t._date.setMinutes(59,59,999);break;case"minute":t._date.setSeconds(59,999);break;case"second":t._date.setMilliseconds(999)}return t}isValid(){return!isNaN(this._date.getTime())}isBefore(e){return this.valueOf()<e.valueOf()}isAfter(e){return this.valueOf()>e.valueOf()}isSame(e){return this.valueOf()===e.valueOf()}format(e="YYYY-MM-DD"){if(!this.isValid())return"Invalid Date";const t=this._date.getFullYear(),a=this._date.getMonth()+1,n=this._date.getDate(),s=this._date.getHours(),r=this._date.getMinutes(),i=this._date.getSeconds();return isNaN(t)||isNaN(a)||isNaN(n)?"Invalid Date":e.replace(/YYYY/g,t.toString()).replace(/MM/g,a.toString().padStart(2,"0")).replace(/DD/g,n.toString().padStart(2,"0")).replace(/HH/g,s.toString().padStart(2,"0")).replace(/mm/g,r.toString().padStart(2,"0")).replace(/ss/g,i.toString().padStart(2,"0"))}normalizeUnit(e){return{y:"year",year:"year",years:"year",M:"month",month:"month",months:"month",w:"week",week:"week",weeks:"week",d:"day",day:"day",days:"day",h:"hour",hour:"hour",hours:"hour",m:"minute",minute:"minute",minutes:"minute",s:"second",second:"second",seconds:"second",ms:"millisecond",millisecond:"millisecond",milliseconds:"millisecond"}[e]||e}}g.config={locale:"en",strict:!1,suppressDeprecationWarnings:!1};class f{static use(e){const t=Array.isArray(e)?e:[e];for(const e of t)this.installPlugin(e);return D}static installPlugin(e){if(this.installedPlugins.has(e.name))return;if(e.dependencies)for(const t of e.dependencies)this.installedPlugins.has(t)||y(`Plugin ${e.name} depends on ${t} which is not installed`,"MISSING_DEPENDENCY");this.plugins.set(e.name,e),this.installedPlugins.add(e.name);const a={cache:m,memoize:t,validateInput:(e,t)=>{switch(t){case"date":return e instanceof Date&&!isNaN(e.getTime());case"number":return"number"==typeof e&&!isNaN(e);case"string":return"string"==typeof e;default:return!1}},throwError:y};e.install(D,a)}static extend(e){Object.assign(this.extensionMethods,e);for(const[t,a]of Object.entries(e))g.prototype[t]=a}static addStatic(e){Object.assign(this.staticMethods,e);for(const[t,a]of Object.entries(e))D[t]=a}static getPlugin(e){return this.plugins.get(e)}static isInstalled(e){return this.installedPlugins.has(e)}static getInstalledPlugins(){return Array.from(this.installedPlugins)}}f.plugins=new Map,f.installedPlugins=new Set,f.extensionMethods={},f.staticMethods={};const D=e=>new g(e);D.use=f.use.bind(f),D.extend=f.extend.bind(f),D.addStatic=f.addStatic.bind(f),D.plugins=f.plugins,D.utc=e=>new g(e),D.unix=e=>new g(new Date(1e3*e));class p{constructor(){this.locales=new Map,this.currentLocale="en-US",this.defaultLocale="en-US"}static getInstance(){return p.instance||(p.instance=new p),p.instance}register(e,t){this.locales.set(e,t),1===this.locales.size&&(this.defaultLocale=e,this.currentLocale=e)}setLocale(e){return!!this.locales.has(e)&&(this.currentLocale=e,!0)}getLocale(e){const t=e||this.currentLocale;return this.locales.get(t)}getCurrentLocale(){return this.currentLocale}getDefaultLocale(){return this.defaultLocale}setDefaultLocale(e){return!!this.locales.has(e)&&(this.defaultLocale=e,!0)}getHolidays(e,t){const a=this.getLocale(e);if(!a)return[];if(t)switch(t){case"federal":return a.federalHolidays||[];case"state":return a.stateHolidays?Object.values(a.stateHolidays).flat():[];case"public":return a.publicHolidays||[];case"observances":return a.observances||[];default:if(a[t]&&Array.isArray(a[t]))return a[t]}return a.holidays||[]}getStateHolidays(e,t){const a=this.getLocale(t);if(!a||!a.stateHolidays)return[];const n=e.toLowerCase();return a.stateHolidays[n]||[]}getAllHolidays(e){const t=this.getLocale(e);if(!t)return[];const a=[];if(t.holidays&&a.push(...t.holidays),t.federalHolidays&&a.push(...t.federalHolidays),t.stateHolidays)for(const e of Object.values(t.stateHolidays))a.push(...e);t.publicHolidays&&a.push(...t.publicHolidays),t.observances&&a.push(...t.observances);const n=new Map;for(const e of a)n.has(e.name)||n.set(e.name,e);return Array.from(n.values())}getAvailableLocales(){return Array.from(this.locales.keys())}hasLocale(e){return this.locales.has(e)}clear(){this.locales.clear(),this.currentLocale="en-US",this.defaultLocale="en-US"}}const w=p.getInstance();const M=new class{constructor(){this.calculators=new Map,this.cache=n(),this.ruleCache=new Map,this.registerCalculators()}registerCalculators(){}registerCalculator(e,t){this.calculators.set(e,t)}calculate(e,t){const a=h(e);if(a.length>0)throw new Error(`Invalid holiday rule: ${a.join(", ")}`);this.ruleCache.has(e.name||"unnamed")||this.ruleCache.set(e.name||"unnamed",new Map);const n=this.ruleCache.get(e.name||"unnamed");if(n.has(t))return n.get(t);const s=this.calculators.get(e.type);if(!s)throw new Error(`Unknown holiday type: ${e.type}`);let r=s.calculate(e,t);return e.observedRule&&(r=this.applyObservedRules(r,e.observedRule)),e.duration&&e.duration>1&&(r=this.expandDuration(r,e.duration)),n.set(t,r),r}applyObservedRules(e,t){const a=[];for(const n of e){const e=n.getDay();if(t.weekends?.includes(e)||0===e||6===e)switch(t.type){case"substitute":a.push(this.findSubstituteDate(n,t));break;case"nearest-weekday":a.push(this.findNearestWeekday(n));break;case"bridge":a.push(n),a.push(this.findBridgeDate(n));break;default:a.push(n)}else a.push(n)}return a}findSubstituteDate(e,t){const a=t.direction||"forward",n=t.weekends||[0,6];let s=new Date(e);const r="forward"===a?1:-1;for(;n.includes(s.getDay());)s.setDate(s.getDate()+r);return s}findNearestWeekday(e){const t=e.getDay();return 0===t?new Date(e.getFullYear(),e.getMonth(),e.getDate()+1):6===t?new Date(e.getFullYear(),e.getMonth(),e.getDate()-1):e}findBridgeDate(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)}expandDuration(e,t){const a=[];for(const n of e)for(let e=0;e<t;e++){const t=new Date(n);t.setDate(t.getDate()+e),a.push(t)}return a}isHoliday(e,t){const a=e.getFullYear();for(const n of t){if(!n.active&&void 0!==n.active)continue;const s=this.calculateWithContext(n,a,t);for(const t of s)if(this.isSameDay(e,t))return{id:n.id||n.name,name:n.name,type:n.type,date:t,regions:n.regions||[]}}return null}getHolidaysForYear(e,t){const a=[];for(const n of t){if(!n.active&&void 0!==n.active)continue;const s=this.calculateWithContext(n,e,t);for(const e of s)a.push({id:n.id||n.name,name:n.name,type:n.type,date:e,regions:n.regions||[]})}return a.sort((e,t)=>e.date.getTime()-t.date.getTime())}calculateWithContext(e,t,a){const n=h(e);if(n.length>0)throw new Error(`Invalid holiday rule: ${n.join(", ")}`);this.ruleCache.has(e.name||"unnamed")||this.ruleCache.set(e.name||"unnamed",new Map);const s=this.ruleCache.get(e.name||"unnamed");if(s.has(t))return s.get(t);const r=this.calculators.get(e.type);if(!r)throw new Error(`Unknown holiday type: ${e.type}`);let i;return i="relative"===e.type?r.calculate(e,t,{holidays:a}):r.calculate(e,t),e.observedRule&&(i=this.applyObservedRules(i,e.observedRule)),e.duration&&e.duration>1&&(i=this.expandDuration(i,e.duration)),s.set(t,i),i}getHolidaysInRange(e,t,a){const n=[],s=e.getFullYear(),r=t.getFullYear();for(let i=s;i<=r;i++){const s=this.getHolidaysForYear(i,a);for(const a of s)a.date>=e&&a.date<=t&&n.push(a)}return n}getNextHoliday(e,t){const a=e.getFullYear(),n=this.getHolidaysForYear(a,t);for(const t of n)if(t.date>e)return t;return this.getHolidaysForYear(a+1,t)[0]||null}getPreviousHoliday(e,t){const a=e.getFullYear(),n=this.getHolidaysForYear(a,t);for(let t=n.length-1;t>=0;t--){const a=n[t];if(a.date<e)return a}const s=this.getHolidaysForYear(a-1,t);return s[s.length-1]||null}isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}clearCache(){this.cache.clear(),this.ruleCache.clear()}};var b={name:"holiday-engine",version:"1.0.0",size:2048,install(e,t){e.extend({isHoliday(e){const t=e||w.getHolidays();return null!==M.isHoliday(this.toDate(),t)},getHolidayInfo(e){const t=e||w.getHolidays();return M.isHoliday(this.toDate(),t)},nextHoliday(t){const a=t||w.getHolidays(),n=M.getNextHoliday(this.toDate(),a);return n?e(n.date):null},previousHoliday(t){const a=t||w.getHolidays(),n=M.getPreviousHoliday(this.toDate(),a);return n?e(n.date):null},getHolidays:e=>w.getHolidays(void 0,e)}),e.addStatic?.({getYearHolidays:(e,t)=>M.getHolidaysForYear(e,t),getHolidaysInRange(t,a,n){const s=e(t).toDate(),r=e(a).toDate();return M.getHolidaysInRange(s,r,n)},holidayEngine:M})}};class k{calculate(e,t){const{month:a,day:n}=e.rule,s=new Date(t,a-1,n);return s.getFullYear()!==t||s.getMonth()!==a-1||s.getDate()!==n?[]:[s]}}var Y={name:"holiday-fixed-calculator",version:"1.0.0",size:256,dependencies:["holiday-engine"],install(e,t){const a=e.holidayEngine;a&&a.registerCalculator("fixed",new k)}};class H{calculate(e,t){const{month:a,weekday:n,nth:s}=e.rule;return s>0?[this.getNthWeekdayOfMonth(t,a-1,n,s)]:[this.getLastNthWeekdayOfMonth(t,a-1,n,Math.abs(s))]}getNthWeekdayOfMonth(e,t,a,n){let s=a-new Date(e,t,1).getDay();s<0&&(s+=7);const r=new Date(e,t,1+s+7*(n-1));if(r.getMonth()!==t)throw new Error(`${n}${this.getOrdinalSuffix(n)} ${this.getWeekdayName(a)} of ${this.getMonthName(t)} ${e} does not exist`);return r}getLastNthWeekdayOfMonth(e,t,a,n){const s=new Date(e,t+1,0);let r=s.getDay()-a;r<0&&(r+=7);const i=s.getDate()-r-7*(n-1);if(i<1)throw new Error(`${n}${this.getOrdinalSuffix(n)} to last ${this.getWeekdayName(a)} of ${this.getMonthName(t)} ${e} does not exist`);return new Date(e,t,i)}getOrdinalSuffix(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}getWeekdayName(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]||"Unknown"}}var v={name:"holiday-nth-weekday-calculator",version:"1.0.0",size:512,dependencies:["holiday-engine"],install(e,t){const a=e.holidayEngine;a&&a.registerCalculator("nth-weekday",new H)}};class S{calculate(e,t){const{offset:a}=e.rule,n=this.calculateEaster(t),s=new Date(n);return s.setDate(s.getDate()+a),[s]}calculateEaster(e){if(e<1583)return this.calculateJulianEaster(e);const t=e%19,a=Math.floor(e/100),n=e%100,s=Math.floor(a/4),r=a%4,i=Math.floor((a+8)/25),o=(19*t+a-s-Math.floor((a-i+1)/3)+15)%30,l=(32+2*r+2*Math.floor(n/4)-o-n%4)%7,d=Math.floor((t+11*o+22*l)/451),u=Math.floor((o+l-7*d+114)/31)-1;return new Date(e,u,(o+l-7*d+114)%31+1)}calculateJulianEaster(e){const t=(19*(e%19)+15)%30,a=(2*(e%4)+4*(e%7)-t+34)%7,n=Math.floor((t+a+114)/31)-1,s=new Date(e,n,(t+a+114)%31+1),r=this.dateToJulianDay(s);return this.julianDayToDate(r)}dateToJulianDay(e){const t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();let s=Math.floor((14-a)/12),r=t+4800-s,i=a+12*s-3;return n+Math.floor((153*i+2)/5)+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)-32045}julianDayToDate(e){let t=e+32044,a=(4*t+3)/146097,n=t-Math.floor(146097*a/4),s=(4*n+3)/1461,r=n-Math.floor(1461*s/4),i=(5*r+2)/153,o=r-Math.floor((153*i+2)/5)+1,l=i+3-12*Math.floor(i/10),d=100*a+s-4800+Math.floor(i/10);return new Date(d,l-1,o)}calculateOrthodoxEaster(e){const t=(19*(e%19)+15)%30,a=(2*(e%4)+4*(e%7)-t+34)%7,n=Math.floor((t+a+114)/31),s=new Date(e,n-1,(t+a+114)%31+1),r=this.getJulianGregorianDifference(e),i=new Date(s);return i.setDate(i.getDate()+r),i}getJulianGregorianDifference(e){if(e<1583)return 0;const t=Math.floor(e/100);return t-Math.floor(t/4)-2}}var x={name:"holiday-easter-calculator",version:"1.0.0",size:1024,dependencies:["holiday-engine"],install(e,t){const a=e.holidayEngine;a&&a.registerCalculator("easter-based",new S),e.addStatic?.({getEaster(t){const a=(new S).calculateEaster(t);return e(a)},getOrthodoxEaster(t){const a=(new S).calculateOrthodoxEaster(t);return e(a)}})}};class F{constructor(){this.converters={islamic:new L,chinese:new O,hebrew:new E,persian:new I}}calculate(e,t){const{calendar:a,month:n,day:s}=e.rule,r=this.converters[a];if(!r)throw new Error(`Unknown lunar calendar: ${a}`);const i=this.getLunarYear(t,a);return[r.toGregorian(i,n,s)]}getLunarYear(e,t){switch(t){case"islamic":return Math.round(1.030684*(e-622));case"chinese":return e-2637;case"hebrew":return e+3761;case"persian":return e-622;default:return e}}}class L{toGregorian(e,t,a){const n=1948084+(354.36667*(e-1)+this.getIslamicMonthDays(t,e)+a-1);return this.julianDayToGregorian(n)}fromGregorian(e){const t=this.gregorianToJulianDay(e)-1948084,a=354.36667,n=Math.floor(t/a)+1;let s=1,r=t-(n-1)*a;for(;r>this.getIslamicMonthLength(s,n);)r-=this.getIslamicMonthLength(s,n),s++;return{year:n,month:s,day:Math.floor(r)}}getIslamicMonthDays(e,t){let a=0;for(let n=1;n<e;n++)a+=this.getIslamicMonthLength(n,t);return a}getIslamicMonthLength(e,t){return 12===e&&this.isIslamicLeapYear(t)?30:[30,29,30,29,30,29,30,29,30,29,30,29][e-1]||29}isIslamicLeapYear(e){return(11*e+14)%30<11}julianDayToGregorian(e){const t=e+32044,a=(4*t+3)/146097,n=t-Math.floor(146097*a/4),s=(4*n+3)/1461,r=n-Math.floor(1461*s/4),i=(5*r+2)/153,o=r-Math.floor((153*i+2)/5)+1,l=i+3-12*Math.floor(i/10),d=100*a+s-4800+Math.floor(i/10);return new Date(d,l-1,o)}gregorianToJulianDay(e){const t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),s=Math.floor((14-a)/12),r=t+4800-s,i=a+12*s-3;return n+Math.floor((153*i+2)/5)+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)-32045}}class O{toGregorian(e,t,a){const n=e+2637,s=Math.floor(30*Math.random())+21,r=new Date(n,0,s),i=29.5*(t-1)+a-1,o=new Date(r);return o.setDate(o.getDate()+i),o}fromGregorian(e){return{year:e.getFullYear()-2637,month:e.getMonth()+1,day:e.getDate()}}}class E{toGregorian(e,t,a){const n=new Date(e-3761,8,15),s=29.5*(t-1)+a-1,r=new Date(n);return r.setDate(r.getDate()+s),r}fromGregorian(e){return{year:e.getFullYear()+3761,month:e.getMonth()+1,day:e.getDate()}}}class I{toGregorian(e,t,a){const n=new Date(e+622,2,21),s=30*(t-1)+a-1,r=new Date(n);return r.setDate(r.getDate()+s),r}fromGregorian(e){return{year:e.getFullYear()-622,month:e.getMonth()+1,day:e.getDate()}}}var T={name:"holiday-lunar-calculator",version:"1.0.0",size:2048,dependencies:["holiday-engine"],install(e,t){const a=e.holidayEngine;a&&a.registerCalculator("lunar",new F)}};class C{constructor(){this.holidayCache=new Map,this.allHolidays=[]}calculate(e,t,a){const{relativeTo:n,offset:s}=e.rule;a?.holidays&&(this.allHolidays=a.holidays);const r=this.findBaseHoliday(n);if(!r)throw new Error(`Base holiday '${n}' not found for relative rule '${e.name}'`);const i=this.calculateBaseHolidayDates(r,t),o=[];for(const e of i){const t=new Date(e);t.setDate(t.getDate()+s),o.push(t)}return o}findBaseHoliday(e){let t=this.allHolidays.find(t=>t.name===e);return t||(t=this.allHolidays.find(t=>t.id===e)),t||(t=this.allHolidays.find(t=>t.name.toLowerCase()===e.toLowerCase())),t||null}calculateBaseHolidayDates(e,t){if("relative"===e.type)throw new Error(`Circular dependency detected: ${e.name} cannot be relative to another relative holiday`);const a=`${e.name}-${t}`;if(this.holidayCache.has(a))return this.holidayCache.get(a);const n=this.calculateDirectHoliday(e,t);return this.holidayCache.set(a,n),n}calculateDirectHoliday(e,t){switch(e.type){case"fixed":return this.calculateFixed(e,t);case"nth-weekday":return this.calculateNthWeekday(e,t);case"easter-based":return this.calculateEasterBased(e,t);default:throw new Error(`Cannot calculate base holiday of type: ${e.type}`)}}calculateFixed(e,t){const{month:a,day:n}=e.rule,s=new Date(t,a-1,n);return s.getFullYear()!==t||s.getMonth()!==a-1||s.getDate()!==n?[]:[s]}calculateNthWeekday(e,t){const{month:a,weekday:n,nth:s}=e.rule;return s>0?[this.getNthWeekdayOfMonth(t,a-1,n,s)]:[this.getLastNthWeekdayOfMonth(t,a-1,n,Math.abs(s))]}calculateEasterBased(e,t){const{offset:a}=e.rule,n=this.calculateEaster(t),s=new Date(n);return s.setDate(s.getDate()+a),[s]}getNthWeekdayOfMonth(e,t,a,n){let s=a-new Date(e,t,1).getDay();s<0&&(s+=7);return new Date(e,t,1+s+7*(n-1))}getLastNthWeekdayOfMonth(e,t,a,n){const s=new Date(e,t+1,0);let r=s.getDay()-a;r<0&&(r+=7);const i=s.getDate()-r-7*(n-1);return new Date(e,t,i)}calculateEaster(e){const t=e%19,a=Math.floor(e/100),n=e%100,s=Math.floor(a/4),r=a%4,i=Math.floor((a+8)/25),o=(19*t+a-s-Math.floor((a-i+1)/3)+15)%30,l=(32+2*r+2*Math.floor(n/4)-o-n%4)%7,d=Math.floor((t+11*o+22*l)/451),u=Math.floor((o+l-7*d+114)/31)-1;return new Date(e,u,(o+l-7*d+114)%31+1)}clearCache(){this.holidayCache.clear()}}var N={name:"holiday-relative-calculator",version:"1.0.0",size:1024,dependencies:["holiday-engine"],install(e,t){const a=e.holidayEngine;a&&a.registerCalculator("relative",new C)}};class B{calculate(e,t,a){const{calculate:n}=e.rule;if("function"!=typeof n)throw new Error(`Custom rule '${e.name}' must have a calculate function`);try{const s=n(t,a);if(s instanceof Date)return[s];if(Array.isArray(s))return s.filter(e=>e instanceof Date);throw new Error(`Custom rule '${e.name}' must return Date or Date[]`)}catch(t){throw new Error(`Error calculating custom rule '${e.name}': ${t instanceof Error?t.message:String(t)}`)}}}const W={calculateVernalEquinox(e){const t=new Date(e,2,20),a=Math.floor(.24*(e-2e3));return t.setDate(t.getDate()+a),t},calculateAutumnalEquinox(e){const t=new Date(e,8,23),a=Math.floor(.24*(e-2e3));return t.setDate(t.getDate()+a),t},calculateSummerSolstice(e){const t=new Date(e,5,21),a=Math.floor(.24*(e-2e3));return t.setDate(t.getDate()+a),t},calculateWinterSolstice(e){const t=new Date(e,11,21),a=Math.floor(.24*(e-2e3));return t.setDate(t.getDate()+a),t},findWeekdayInMonth(e,t,a,n){if("first"===n){let n=a-new Date(e,t,1).getDay();return n<0&&(n+=7),new Date(e,t,1+n)}{const n=new Date(e,t+1,0);let s=n.getDay()-a;return s<0&&(s+=7),new Date(e,t,n.getDate()-s)}},calculateNewMoon(e,t){const a=new Date(e,t,0).getDate(),n=Math.floor(.5*a);return new Date(e,t-1,n)},calculateFullMoon(e,t){const a=this.calculateNewMoon(e,t),n=new Date(a);return n.setDate(n.getDate()+14),n},getNextBusinessDay(e){const t=new Date(e);for(t.setDate(t.getDate()+1);0===t.getDay()||6===t.getDay();)t.setDate(t.getDate()+1);return t},getPreviousBusinessDay(e){const t=new Date(e);for(t.setDate(t.getDate()-1);0===t.getDay()||6===t.getDay();)t.setDate(t.getDate()-1);return t},getDateInTimezone:(e,t)=>new Date(e.toLocaleString("en-US",{timeZone:t})),getDSTTransition(e,t){return"spring"===t?this.findWeekdayInMonth(e,2,0,"first"):this.findWeekdayInMonth(e,10,0,"first")},calculateGoldenWeekSubstitutes(e){const t=[new Date(e,3,29),new Date(e,4,3),new Date(e,4,4),new Date(e,4,5)],a=[];for(const e of t){if(0===e.getDay()){const t=new Date(e);t.setDate(t.getDate()+1),a.push(t)}}return a},calculateQingming(e){const t=new Date(e,3,5),a=Math.floor(.24*(e-2e3));return t.setDate(t.getDate()+a),t}};var _={name:"holiday-custom-calculator",version:"1.0.0",size:1536,dependencies:["holiday-engine"],install(e,t){const a=e.holidayEngine;a&&a.registerCalculator("custom",new B),e.addStatic?.({customCalculatorUtils:W})}};class ${constructor(e={}){this.cache=new Map,this.config={weekends:[0,6],holidays:[],customRules:[],...e}}updateConfig(e){this.config={...this.config,...e},this.cache.clear()}isBusinessDay(e){const t=e.toISOString().split("T")[0];if(this.cache.has(t))return this.cache.get(t);const a=this.calculateIsBusinessDay(e);return this.cache.set(t,a),a}calculateIsBusinessDay(e){const t=e.getDay();if(this.config.weekends?.includes(t))return!1;if(this.config.holidays&&this.config.holidays.length>0){const t=globalThis.kairos?.holidayEngine;if(t){if(t.isHoliday(e,this.config.holidays))return!1}}if(this.config.customRules)for(const t of this.config.customRules)if(!t(e))return!1;return!0}nextBusinessDay(e){let t=new Date(e);for(t.setDate(t.getDate()+1);!this.isBusinessDay(t);)t.setDate(t.getDate()+1);return t}previousBusinessDay(e){let t=new Date(e);for(t.setDate(t.getDate()-1);!this.isBusinessDay(t);)t.setDate(t.getDate()-1);return t}addBusinessDays(e,t){if(0===t)return new Date(e);let a=new Date(e),n=0;const s=t>0?1:-1,r=Math.abs(t);for(;n<r;)a.setDate(a.getDate()+s),this.isBusinessDay(a)&&n++;return a}businessDaysBetween(e,t){const a=new Date(e),n=new Date(t);if(a.getTime()===n.getTime())return 0;const s=a<n?1:-1;let r=0,i=new Date(a);for(;i.getTime()!==n.getTime();)i.setDate(i.getDate()+s),this.isBusinessDay(i)&&r++;return r*s}businessDaysInMonth(e,t){const a=new Date(e,t,1),n=new Date(e,t+1,0);return this.businessDaysBetween(a,n)+(this.isBusinessDay(a)?1:0)}businessDaysInYear(e){const t=new Date(e,0,1),a=new Date(e,11,31);return this.businessDaysBetween(t,a)+(this.isBusinessDay(t)?1:0)}settlementDate(e,t){return this.addBusinessDays(e,t)}getBusinessDaysInMonth(e,t){const a=[],n=new Date(e,t,1),s=new Date(e,t+1,0);let r=new Date(n);for(;r<=s;)this.isBusinessDay(r)&&a.push(new Date(r)),r.setDate(r.getDate()+1);return a}getBusinessDaysInRange(e,t){const a=[];let n=new Date(e);for(;n<=t;)this.isBusinessDay(n)&&a.push(new Date(n)),n.setDate(n.getDate()+1);return a}getNthBusinessDay(e,t,a){const n=new Date(e,t,1),s=new Date(e,t+1,0);let r=new Date(n),i=0;for(;r<=s;){if(this.isBusinessDay(r)&&(i++,i===a))return new Date(r);r.setDate(r.getDate()+1)}return null}getLastBusinessDay(e,t){const a=new Date(e,t+1,0);let n=new Date(a);for(;n.getMonth()===t;){if(this.isBusinessDay(n))return new Date(n);n.setDate(n.getDate()-1)}return null}clearCache(){this.cache.clear()}}const A=new $;var R={name:"business-workday",version:"1.0.0",size:2048,dependencies:["holiday-engine"],install(e,t){e.extend({isBusinessDay(e){const t=e?new $(e):A;if(!e?.holidays&&this.getHolidays){const e=this.getHolidays();t.updateConfig({holidays:e})}return t.isBusinessDay(this.toDate())},isWeekend(){const e=this.day();return 0===e||6===e},nextBusinessDay(t){const a=t?new $(t):A;if(!t?.holidays&&this.getHolidays){const e=this.getHolidays();a.updateConfig({holidays:e})}const n=a.nextBusinessDay(this.toDate());return e(n)},previousBusinessDay(t){const a=t?new $(t):A;if(!t?.holidays&&this.getHolidays){const e=this.getHolidays();a.updateConfig({holidays:e})}const n=a.previousBusinessDay(this.toDate());return e(n)},addBusinessDays(t,a){const n=a?new $(a):A;if(!a?.holidays&&this.getHolidays){const e=this.getHolidays();n.updateConfig({holidays:e})}const s=n.addBusinessDays(this.toDate(),t);return e(s)},businessDaysBetween(e,t){const a=t?new $(t):A;if(!t?.holidays&&this.getHolidays){const e=this.getHolidays();a.updateConfig({holidays:e})}return a.businessDaysBetween(this.toDate(),e.toDate())},businessDaysInMonth(e){const t=e?new $(e):A;if(!e?.holidays&&this.getHolidays){const e=this.getHolidays();t.updateConfig({holidays:e})}return t.businessDaysInMonth(this.year(),this.month()-1)},settlementDate(t,a){const n=a?new $(a):A;if(!a?.holidays&&this.getHolidays){const e=this.getHolidays();n.updateConfig({holidays:e})}const s=n.settlementDate(this.toDate(),t);return e(s)},isWorkingHour(e=9,t=17){const a=this.hour();return this.isBusinessDay()&&a>=e&&a<t}}),e.addStatic?.({businessDayCalculator:A,createBusinessDayCalculator:e=>new $(e),getBusinessDaysInMonth:(t,a,n)=>(n?new $(n):A).getBusinessDaysInMonth(t,a-1).map(t=>e(t)),getBusinessDaysInRange(t,a,n){const s=n?new $(n):A,r=e(t).toDate(),i=e(a).toDate();return s.getBusinessDaysInRange(r,i).map(t=>e(t))},getNthBusinessDay(t,a,n,s){const r=(s?new $(s):A).getNthBusinessDay(t,a-1,n);return r?e(r):null},getLastBusinessDay(t,a,n){const s=(n?new $(n):A).getLastBusinessDay(t,a-1);return s?e(s):null},businessDaysInYear:(e,t)=>(t?new $(t):A).businessDaysInYear(e)})}};class j{constructor(e){this.config=e}getStartMonth(){if("number"==typeof this.config.start)return this.config.start;const e=["january","february","march","april","may","june","july","august","september","october","november","december"].indexOf(this.config.start.toLowerCase());return-1===e?1:e+1}getFiscalYear(e){const t=this.getStartMonth(),a=e.getFullYear();return e.getMonth()+1>=t?a:a-1}getFiscalYearStart(e){const t=this.getStartMonth();return new Date(e,t-1,1)}getFiscalYearEnd(e){const t=this.getStartMonth(),a=1===t?12:t-1,n=1===t?e:e+1,s=new Date(n,a,0).getDate();return new Date(n,a-1,s)}getFiscalQuarter(e){const t=this.getStartMonth();let a=e.getMonth()+1-t;return a<0&&(a+=12),Math.floor(a/3)+1}getFiscalQuarterStart(e,t){const a=this.getStartMonth();return new Date(1===t?e:a+3*(t-1)>12?e+1:e,(a-1+3*(t-1))%12,1)}getFiscalQuarterEnd(e,t){const a=this.getStartMonth(),n=(a-1+3*t-1)%12,s=1===t?e:a+3*t-1>12?e+1:e,r=new Date(s,n+1,0).getDate();return new Date(s,n,r)}getDaysInFiscalYear(e){const t=this.getFiscalYearStart(e),a=this.getFiscalYearEnd(e);return Math.floor((a.getTime()-t.getTime())/864e5)+1}getDaysInFiscalQuarter(e,t){const a=this.getFiscalQuarterStart(e,t),n=this.getFiscalQuarterEnd(e,t);return Math.floor((n.getTime()-a.getTime())/864e5)+1}getFiscalWeek(e){const t=this.getFiscalYear(e),a=this.getFiscalYearStart(t),n=e.getTime()-a.getTime(),s=Math.floor(n/864e5);return Math.floor(s/7)+1}static getCommonConfigs(){return{US:{start:10},UK:{start:4},Canada:{start:4},Australia:{start:7},India:{start:4},Japan:{start:4},Germany:{start:1},France:{start:1},China:{start:1},Brazil:{start:1},Russia:{start:1},"South Korea":{start:1},Singapore:{start:4},"Hong Kong":{start:4},"New Zealand":{start:4},Mexico:{start:1},"South Africa":{start:3},Turkey:{start:1},Israel:{start:1},"Saudi Arabia":{start:1},UAE:{start:1},Egypt:{start:7},Nigeria:{start:1},Kenya:{start:7},"Corporate-Q1":{start:1},"Corporate-Q2":{start:4},"Corporate-Q3":{start:7},"Corporate-Q4":{start:10},"Academic-US":{start:8},"Academic-UK":{start:9},"Retail-US":{start:2},"Retail-4-5-4":{start:2}}}}var J={name:"business-fiscal",version:"1.0.0",size:1536,dependencies:["business-workday"],install(e,t){e.extend({fiscalYear(e){return new j(e||{start:1}).getFiscalYear(this.toDate())},fiscalYearStart(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalYearStart(n);return e(s)},fiscalYearEnd(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalYearEnd(n);return e(s)},fiscalQuarter(e){return new j(e||{start:1}).getFiscalQuarter(this.toDate())},fiscalQuarterStart(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalQuarter(this.toDate()),r=a.getFiscalQuarterStart(n,s);return e(r)},fiscalQuarterEnd(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalQuarter(this.toDate()),r=a.getFiscalQuarterEnd(n,s);return e(r)},fiscalWeek(e){return new j(e||{start:1}).getFiscalWeek(this.toDate())},isFiscalYearStart(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalYearStart(n);return this.isSame(e(s))},isFiscalYearEnd(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalYearEnd(n);return this.isSame(e(s))},isFiscalQuarterStart(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalQuarter(this.toDate()),r=a.getFiscalQuarterStart(n,s);return this.isSame(e(r))},isFiscalQuarterEnd(t){const a=new j(t||{start:1}),n=a.getFiscalYear(this.toDate()),s=a.getFiscalQuarter(this.toDate()),r=a.getFiscalQuarterEnd(n,s);return this.isSame(e(r))}}),e.addStatic?.({fiscalYearCalculator:j,getFiscalYearConfig:e=>j.getCommonConfigs()[e]||null,getAvailableFiscalConfigs:()=>Object.keys(j.getCommonConfigs()),createFiscalCalculator:e=>new j(e),getFiscalYearInfo(t,a){const n=new j(a||{start:1});return{fiscalYear:t,start:e(n.getFiscalYearStart(t)),end:e(n.getFiscalYearEnd(t)),days:n.getDaysInFiscalYear(t),quarters:[1,2,3,4].map(a=>({quarter:a,start:e(n.getFiscalQuarterStart(t,a)),end:e(n.getFiscalQuarterEnd(t,a)),days:n.getDaysInFiscalQuarter(t,a)}))}},getBusinessDaysInFiscalYear(t,a){const n=new j(a||{start:1}),s=n.getFiscalYearStart(t),r=n.getFiscalYearEnd(t),i=e.businessDayCalculator;return i.businessDaysBetween(s,r)+(i.isBusinessDay(s)?1:0)}})}};const P={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},z={en:P,"en-US":P,"en-GB":P,de:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:"eine Minute",mm:"%d Minuten",h:"eine Stunde",hh:"%d Stunden",d:"ein Tag",dd:"%d Tage",M:"ein Monat",MM:"%d Monate",y:"ein Jahr",yy:"%d Jahre"},"de-DE":{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:"eine Minute",mm:"%d Minuten",h:"eine Stunde",hh:"%d Stunden",d:"ein Tag",dd:"%d Tage",M:"ein Monat",MM:"%d Monate",y:"ein Jahr",yy:"%d Jahre"},tr:{future:"%s içinde",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},"tr-TR":{future:"%s içinde",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ja:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"},"ja-JP":{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};class Q{constructor(e="en"){this.locale=z[e]||z[e.split("-")[0]]||P}format(e,t=!1){const a=Math.abs(e),n=Math.round(a/1e3),s=Math.round(n/60),r=Math.round(s/60),i=Math.round(r/24),o=Math.round(i/30.436875),l=Math.round(i/365.25);let d;if(d=n<45?this.locale.s:n<90?this.locale.m:s<45?this.locale.mm.replace("%d",s.toString()):s<90?this.locale.h:r<22?this.locale.hh.replace("%d",r.toString()):r<36?this.locale.d:i<26?this.locale.dd.replace("%d",i.toString()):i<46?this.locale.M:i<320?this.locale.MM.replace("%d",o.toString()):i<548?this.locale.y:this.locale.yy.replace("%d",l.toString()),t)return d;return(e>0?this.locale.future:this.locale.past).replace("%s",d)}formatNative(e,t="en",a={}){if("undefined"!=typeof Intl&&Intl.RelativeTimeFormat){const n=new Intl.RelativeTimeFormat(t,{numeric:a.numeric||"auto",style:a.style||"long"}),s=Math.abs(e)/1e3,r=s/60,i=r/60,o=i/24,l=o/7,d=o/30.436875,u=o/365.25,c=e>0?1:-1;return u>=1?n.format(c*Math.round(u),"year"):d>=1?n.format(c*Math.round(d),"month"):l>=1?n.format(c*Math.round(l),"week"):o>=1?n.format(c*Math.round(o),"day"):i>=1?n.format(c*Math.round(i),"hour"):r>=1?n.format(c*Math.round(r),"minute"):n.format(c*Math.round(s),"second")}return this.format(e)}}const U={name:"relativeTime",install(e){e.extend({fromNow(e=!1){const t=Date.now(),a=this.valueOf()-t;return(new Q).format(a,e)},from(e,t=!1){const a=this.valueOf()-e.valueOf();return(new Q).format(a,t)},toNow(e=!1){const t=Date.now()-this.valueOf();return(new Q).format(t,e)},to(e,t=!1){const a=this.valueOf(),n=e.valueOf()-a;return(new Q).format(n,t)},humanize(e=!1){const t=new Q,a=this.valueOf();return t.format(a,!e)},fromNowNative(e="en",t){const a=Date.now(),n=this.valueOf()-a;return(new Q).formatNative(n,e,t)},toNowNative(e="en",t){const a=Date.now()-this.valueOf();return(new Q).formatNative(a,e,t)}}),e.addStatic({relativeTime:{registerLocale(e,t){z[e]=t},getLocale:e=>z[e],calculator:e=>new Q(e)}})}};class G{static getISOWeek(e){const t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));const a=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-a.getTime())/864e5+1)/7)}static getISOWeekYear(e){const t=new Date(e.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),t.getFullYear()}static getWeek(e,t=0){const a=new Date(e.getTime());a.setHours(0,0,0,0);const n=new Date(a.getFullYear(),0,1);n.setHours(0,0,0,0);const s=(t-n.getDay()+7)%7,r=new Date(n);s>0&&r.setDate(n.getDate()+s-7);const i=Math.floor((a.getTime()-r.getTime())/864e5),o=Math.floor(i/7)+1;if(o<1){const e=new Date(a.getFullYear()-1,11,31);return this.getWeek(e,t)}return o}static getQuarter(e){return Math.floor(e.getMonth()/3)+1}static getDayOfYear(e){const t=new Date(e.getFullYear(),0,0),a=e.getTime()-t.getTime();return Math.floor(a/864e5)}static getDaysInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}static getDaysInYear(e){return this.isLeapYear(e)?366:365}static isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}static getWeekOfMonth(e,t=0){const a=(new Date(e.getFullYear(),e.getMonth(),1).getDay()-t+7)%7,n=e.getDate();return Math.ceil((n+a)/7)}static getCalendarInfo(e){const t=e.getFullYear();return{year:t,quarter:this.getQuarter(e),month:e.getMonth()+1,week:this.getWeek(e),weekYear:t,isoWeek:this.getISOWeek(e),isoWeekYear:this.getISOWeekYear(e),dayOfYear:this.getDayOfYear(e),dayOfWeek:e.getDay(),daysInMonth:this.getDaysInMonth(e),daysInYear:this.getDaysInYear(t),isLeapYear:this.isLeapYear(t),weekOfMonth:this.getWeekOfMonth(e)}}}const q={name:"calendar",install(e){e.extend({quarter(e){const t=G.getQuarter(this.toDate());if(void 0===e)return t;if(e<1||e>4)throw new Error("Quarter must be between 1 and 4");const a=3*(e-1)+1;return this.clone().month(a)},week(e){const t=G.getWeek(this.toDate());if(void 0===e)return t;const a=e-t;return this.clone().add(7*a,"days")},isoWeek(e){const t=G.getISOWeek(this.toDate());if(void 0===e)return t;const a=e-t;return this.clone().add(7*a,"days")},isoWeekYear(){return G.getISOWeekYear(this.toDate())},weekYear(){return this.year()},dayOfYear(t){const a=G.getDayOfYear(this.toDate());if(void 0===t)return a;const n=this.clone(),s=new Date(n.year(),0,1);return s.setDate(t),e(s)},daysInMonth(){return G.getDaysInMonth(this.toDate())},daysInYear(){return G.getDaysInYear(this.year())},isLeapYear(){return G.isLeapYear(this.year())},weekOfMonth(){return G.getWeekOfMonth(this.toDate())},calendarInfo(){return G.getCalendarInfo(this.toDate())},startOfQuarter(){const t=3*(this.quarter()-1);return e(new Date(this.year(),t,1)).startOf("day")},endOfQuarter(){const t=3*this.quarter();return e(new Date(this.year(),t,0)).endOf("day")},startOfWeek(e=0){const t=this.clone(),a=t.day(),n=(a<e?-7:0)+e-a;return t.add(n,"days").startOf("day")},endOfWeek(e=0){const t=this.clone(),a=t.day(),n=(a<e?-7:0)+e-a+6;return t.add(n,"days").endOf("day")},startOfISOWeek(){return this.startOfWeek(1)},endOfISOWeek(){return this.endOfWeek(1)},isWeekend(){const e=this.day();return 0===e||6===e},isWeekday(){return!this.isWeekend()},isSameQuarter(e){return this.quarter()===e.quarter()&&this.year()===e.year()},isSameWeek(e,t=0){const a=this.startOfWeek(t),n=e.startOfWeek(t);return a.format("YYYY-MM-DD")===n.format("YYYY-MM-DD")},isSameISOWeek(e){return this.isoWeek()===e.isoWeek()&&this.isoWeekYear()===e.isoWeekYear()},weeksInYear(){const t=e(new Date(this.year(),11,31));return G.getWeek(t.toDate())},isoWeeksInYear(){const e=this.year(),t=G.getISOWeek(new Date(e,11,31));return 1===t?G.getISOWeek(new Date(e,11,24)):t}}),e.addStatic({calendar:G})}},K=[{id:"new-years-day",name:"New Year's Day",type:"fixed",rule:{month:1,day:1},observedRule:{type:"substitute",weekends:[0,6],direction:"forward"}},{id:"independence-day",name:"Independence Day",type:"fixed",rule:{month:7,day:4},observedRule:{type:"substitute",weekends:[0,6],direction:"forward"}},{id:"veterans-day",name:"Veterans Day",type:"fixed",rule:{month:11,day:11},observedRule:{type:"substitute",weekends:[0,6],direction:"forward"}},{id:"juneteenth",name:"Juneteenth",type:"fixed",rule:{month:6,day:19},observedRule:{type:"substitute",weekends:[0,6],direction:"forward"}},{id:"christmas-day",name:"Christmas Day",type:"fixed",rule:{month:12,day:25},observedRule:{type:"substitute",weekends:[0,6],direction:"forward"}},{id:"martin-luther-king-day",name:"Martin Luther King Jr. Day",type:"nth-weekday",rule:{month:1,weekday:1,nth:3}},{id:"presidents-day",name:"Presidents' Day",type:"nth-weekday",rule:{month:2,weekday:1,nth:3}},{id:"mothers-day",name:"Mother's Day",type:"nth-weekday",rule:{month:5,weekday:0,nth:2}},{id:"memorial-day",name:"Memorial Day",type:"nth-weekday",rule:{month:5,weekday:1,nth:-1}},{id:"fathers-day",name:"Father's Day",type:"nth-weekday",rule:{month:6,weekday:0,nth:3}},{id:"labor-day",name:"Labor Day",type:"nth-weekday",rule:{month:9,weekday:1,nth:1}},{id:"columbus-day",name:"Columbus Day",type:"nth-weekday",rule:{month:10,weekday:1,nth:2}},{id:"thanksgiving",name:"Thanksgiving",type:"nth-weekday",rule:{month:11,weekday:4,nth:4}},{id:"black-friday",name:"Black Friday",type:"relative",rule:{relativeTo:"thanksgiving",offset:1}},{id:"good-friday",name:"Good Friday",type:"easter-based",rule:{offset:-2}},{id:"easter-sunday",name:"Easter Sunday",type:"easter-based",rule:{offset:0}},{id:"easter-monday",name:"Easter Monday",type:"easter-based",rule:{offset:1}}],V={texas:[{id:"texas-independence-day",name:"Texas Independence Day",type:"fixed",rule:{month:3,day:2},regions:["TX"]},{id:"juneteenth",name:"Juneteenth",type:"fixed",rule:{month:6,day:19},regions:["TX"]},{id:"lyndon-b-johnson-day",name:"Lyndon B. Johnson Day",type:"fixed",rule:{month:8,day:27},regions:["TX"]}],california:[{id:"cesar-chavez-day",name:"Cesar Chavez Day",type:"fixed",rule:{month:3,day:31},regions:["CA"]}],hawaii:[{id:"prince-kuhio-day",name:"Prince Kuhio Day",type:"fixed",rule:{month:3,day:26},regions:["HI"]},{id:"kamehameha-day",name:"Kamehameha Day",type:"fixed",rule:{month:6,day:11},regions:["HI"]},{id:"statehood-day",name:"Statehood Day",type:"nth-weekday",rule:{month:8,weekday:5,nth:3},regions:["HI"]}],massachusetts:[{id:"patriots-day",name:"Patriots' Day",type:"nth-weekday",rule:{month:4,weekday:1,nth:3},regions:["MA"]}],maine:[{id:"patriots-day",name:"Patriots' Day",type:"nth-weekday",rule:{month:4,weekday:1,nth:3},regions:["ME"]}]},Z=K.filter(e=>["new-years-day","martin-luther-king-day","presidents-day","memorial-day","juneteenth","independence-day","labor-day","columbus-day","veterans-day","thanksgiving","christmas-day"].includes(e.id)),X=[...K,...Object.values(V).flat()],ee={name:"English (United States)",code:"en-US",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ordinal:e=>{if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`;default:return`${e}th`}},meridiem:(e,t,a)=>{const n=e<12?"AM":"PM";return a?n.toLowerCase():n}};var te={name:"locale-en-US",version:"1.0.0",size:1024,dependencies:["holiday-engine"],locale:ee,install(e,t){w.register("en-US",{...ee,holidays:K,federalHolidays:Z,stateHolidays:V}),e.locales=e.locales||{},e.locales["en-US"]=ee,e.extend({getUSHolidays(e){if(e){const t=e.toLowerCase(),a=V[t];if(a)return[...Z,...a]}return K},getFederalHolidays:()=>Z,getStateHolidays:e=>V[e.toLowerCase()]||[],getAllUSHolidays:()=>X}),e.addStatic?.({locale(t){if(void 0===t)return w.getCurrentLocale();if(w.setLocale(t))return e.currentLocale=t,e;throw new Error(`Locale '${t}' not found`)},getAvailableLocales:()=>Object.keys(e.locales||{})}),e.currentLocale="en-US"}};const ae=[{id:"new-years-day",name:"Yılbaşı",type:"fixed",rule:{month:1,day:1}},{id:"national-sovereignty-day",name:"Ulusal Egemenlik ve Çocuk Bayramı",type:"fixed",rule:{month:4,day:23}},{id:"labor-day",name:"Emek ve Dayanışma Günü",type:"fixed",rule:{month:5,day:1}},{id:"ataturk-commemoration-day",name:"Atatürk'ü Anma, Gençlik ve Spor Bayramı",type:"fixed",rule:{month:5,day:19}},{id:"democracy-day",name:"Demokrasi ve Milli Birlik Günü",type:"fixed",rule:{month:7,day:15}},{id:"victory-day",name:"Zafer Bayramı",type:"fixed",rule:{month:8,day:30}},{id:"republic-day",name:"Cumhuriyet Bayramı",type:"fixed",rule:{month:10,day:29}},{id:"ramadan-feast",name:"Ramazan Bayramı",type:"custom",rule:{calculate:e=>{const t={2024:{month:4,day:10},2025:{month:3,day:30},2023:{month:4,day:21}}[e]||{month:4,day:15};return[new Date(e,t.month-1,t.day),new Date(e,t.month-1,t.day+1),new Date(e,t.month-1,t.day+2)]}},duration:3},{id:"sacrifice-feast",name:"Kurban Bayramı",type:"custom",rule:{calculate:e=>{const t={2024:{month:6,day:16},2025:{month:6,day:6},2023:{month:6,day:28}}[e]||{month:6,day:20};return[new Date(e,t.month-1,t.day),new Date(e,t.month-1,t.day+1),new Date(e,t.month-1,t.day+2),new Date(e,t.month-1,t.day+3)]}},duration:4},{id:"mawlid",name:"Mevlid Kandili",type:"lunar",rule:{calendar:"islamic",month:3,day:12}},{id:"regaib-night",name:"Regaib Kandili",type:"custom",rule:{calculate:e=>{const t=new Date(e,1,15);let a=new Date(t);for(;4!==a.getDay();)a.setDate(a.getDate()+1);return a}}},{id:"miraj-night",name:"Mirac Kandili",type:"lunar",rule:{calendar:"islamic",month:7,day:27}},{id:"laylat-al-baraat",name:"Berat Kandili",type:"lunar",rule:{calendar:"islamic",month:8,day:15}},{id:"laylat-al-qadr",name:"Kadir Gecesi",type:"lunar",rule:{calendar:"islamic",month:9,day:27}},{id:"arafat-day",name:"Arefe Günü",type:"lunar",rule:{calendar:"islamic",month:12,day:9}}],ne=[{id:"ashura",name:"Aşure Günü",type:"lunar",rule:{calendar:"islamic",month:1,day:10}},{id:"isra-and-miraj",name:"İsra ve Mirac",type:"lunar",rule:{calendar:"islamic",month:7,day:27}},{id:"shab-e-barat",name:"Berat Kandili",type:"lunar",rule:{calendar:"islamic",month:8,day:15}}],se=[{id:"conquest-of-istanbul",name:"İstanbul'un Fethi",type:"fixed",rule:{month:5,day:29},active:!1},{id:"gallipoli-victory",name:"Çanakkale Zaferi",type:"fixed",rule:{month:3,day:18},active:!1}],re=[...ae,...ne,...se],ie=ae.filter(e=>["new-years-day","national-sovereignty-day","labor-day","ataturk-commemoration-day","democracy-day","victory-day","republic-day","ramadan-feast","sacrifice-feast"].includes(e.id)),oe={name:"Türkçe (Türkiye)",code:"tr-TR",months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],weekdays:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],weekdaysShort:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],weekdaysMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:e=>{if(1===e)return`${e}'inci`;if(2===e)return`${e}'nci`;if(3===e)return`${e}'üncü`;if(4===e)return`${e}'üncü`;if(5===e)return`${e}'inci`;if(6===e)return`${e}'ncı`;if(7===e)return`${e}'nci`;if(8===e)return`${e}'inci`;if(9===e)return`${e}'uncu`;if(10===e)return`${e}'uncu`;const t=e%100;if(t>=11&&t<=13)return`${e}'üncü`;switch(e%10){case 1:case 5:case 8:return`${e}'inci`;case 2:case 7:return`${e}'nci`;case 3:case 4:default:return`${e}'üncü`;case 6:return`${e}'ncı`;case 9:case 0:return`${e}'uncu`}},meridiem:(e,t,a)=>""};var le={name:"locale-tr-TR",version:"1.0.0",size:1536,dependencies:["holiday-engine"],locale:oe,install(e,t){w.register("tr-TR",{...oe,holidays:ae,publicHolidays:ie,observances:ne,historicalHolidays:se}),e.locales=e.locales||{},e.locales["tr-TR"]=oe,e.extend({getTurkishHolidays(e){switch(e){case"public":return ie;case"religious":return ae.filter(e=>"lunar"===e.type||"custom"===e.type);case"historical":return se;case"all":return re;default:return ae}},getPublicHolidays:()=>ie,getReligiousHolidays:()=>ae.filter(e=>"lunar"===e.type||"custom"===e.type),getObservances:()=>ne,isReligiousHoliday(){const e=this.getHolidayInfo();return!!e&&("lunar"===e.type||"custom"===e.type)},isPublicHoliday(){return null!==this.getHolidayInfo(ie)},formatTurkish(e){const t=e||"D MMMM YYYY, dddd";return this.format(t)}}),e.addStatic?.({getRamazanBayrami(t){const a=ae.find(e=>"ramadan-feast"===e.id);if(a){return e.holidayEngine.calculate(a,t).map(t=>e(t))}return[]},getKurbanBayrami(t){const a=ae.find(e=>"sacrifice-feast"===e.id);if(a){return e.holidayEngine.calculate(a,t).map(t=>e(t))}return[]},getKandilGecesi(t){const a=ae.filter(e=>e.name.includes("Kandil")||e.name.includes("Kadir")),n=[];for(const s of a){const a=e.holidayEngine.calculate(s,t);n.push(...a.map(t=>({date:e(t),name:s.name})))}return n.sort((e,t)=>e.date.valueOf()-t.date.valueOf())}})}};const de=[{id:"new-years-day",name:"Neujahr",type:"fixed",rule:{month:1,day:1}},{id:"labor-day",name:"Tag der Arbeit",type:"fixed",rule:{month:5,day:1}},{id:"german-unity-day",name:"Tag der Deutschen Einheit",type:"fixed",rule:{month:10,day:3}},{id:"christmas-day",name:"1. Weihnachtstag",type:"fixed",rule:{month:12,day:25}},{id:"boxing-day",name:"2. Weihnachtstag",type:"fixed",rule:{month:12,day:26}},{id:"good-friday",name:"Karfreitag",type:"easter-based",rule:{offset:-2}},{id:"easter-sunday",name:"Ostersonntag",type:"easter-based",rule:{offset:0}},{id:"easter-monday",name:"Ostermontag",type:"easter-based",rule:{offset:1}},{id:"ascension-day",name:"Christi Himmelfahrt",type:"easter-based",rule:{offset:39}},{id:"whit-sunday",name:"Pfingstsonntag",type:"easter-based",rule:{offset:49}},{id:"whit-monday",name:"Pfingstmontag",type:"easter-based",rule:{offset:50}}],ue={"baden-württemberg":[{id:"epiphany",name:"Heilige Drei Könige",type:"fixed",rule:{month:1,day:6},regions:["BW"]},{id:"corpus-christi",name:"Fronleichnam",type:"easter-based",rule:{offset:60},regions:["BW"]},{id:"all-saints-day",name:"Allerheiligen",type:"fixed",rule:{month:11,day:1},regions:["BW"]}],bavaria:[{id:"epiphany",name:"Heilige Drei Könige",type:"fixed",rule:{month:1,day:6},regions:["BY"]},{id:"corpus-christi",name:"Fronleichnam",type:"easter-based",rule:{offset:60},regions:["BY"]},{id:"assumption-day",name:"Mariä Himmelfahrt",type:"fixed",rule:{month:8,day:15},regions:["BY"]},{id:"all-saints-day",name:"Allerheiligen",type:"fixed",rule:{month:11,day:1},regions:["BY"]}],berlin:[{id:"womens-day",name:"Internationaler Frauentag",type:"fixed",rule:{month:3,day:8},regions:["BE"]}],brandenburg:[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["BB"]}],bremen:[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["HB"]}],hamburg:[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["HH"]}],hesse:[{id:"corpus-christi",name:"Fronleichnam",type:"easter-based",rule:{offset:60},regions:["HE"]}],"lower-saxony":[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["NI"]}],"mecklenburg-vorpommern":[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["MV"]}],"north-rhine-westphalia":[{id:"corpus-christi",name:"Fronleichnam",type:"easter-based",rule:{offset:60},regions:["NW"]},{id:"all-saints-day",name:"Allerheiligen",type:"fixed",rule:{month:11,day:1},regions:["NW"]}],"rhineland-palatinate":[{id:"corpus-christi",name:"Fronleichnam",type:"easter-based",rule:{offset:60},regions:["RP"]},{id:"all-saints-day",name:"Allerheiligen",type:"fixed",rule:{month:11,day:1},regions:["RP"]}],saarland:[{id:"corpus-christi",name:"Fronleichnam",type:"easter-based",rule:{offset:60},regions:["SL"]},{id:"assumption-day",name:"Mariä Himmelfahrt",type:"fixed",rule:{month:8,day:15},regions:["SL"]},{id:"all-saints-day",name:"Allerheiligen",type:"fixed",rule:{month:11,day:1},regions:["SL"]}],saxony:[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["SN"]},{id:"repentance-day",name:"Buß- und Bettag",type:"custom",rule:{calculate:e=>{const t=(new Date(e,10,23).getDay()+4)%7;return new Date(e,10,23-t)}},regions:["SN"]}],"saxony-anhalt":[{id:"epiphany",name:"Heilige Drei Könige",type:"fixed",rule:{month:1,day:6},regions:["ST"]},{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["ST"]}],"schleswig-holstein":[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["SH"]}],thuringia:[{id:"reformation-day",name:"Reformationstag",type:"fixed",rule:{month:10,day:31},regions:["TH"]}]},ce=de,he=[...de,...Object.values(ue).flat()],ye=[{id:"day-of-german-unity-old",name:"Tag der deutschen Einheit (alt)",type:"fixed",rule:{month:6,day:17},active:!1},{id:"reformation-day-2017",name:"Reformationstag 2017",type:"fixed",rule:{month:10,day:31},active:!1}],me={name:"Deutsch (Deutschland)",code:"de-DE",months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},ordinal:e=>`${e}.`,meridiem:(e,t,a)=>""};var ge={name:"locale-de-DE",version:"1.0.0",size:2048,dependencies:["holiday-engine"],locale:me,install(e,t){w.register("de-DE",{...me,holidays:de,federalHolidays:ce,stateHolidays:ue,historicalHolidays:ye}),e.locales=e.locales||{},e.locales["de-DE"]=me,e.extend({getGermanHolidays(e){if(e){const t=e.toLowerCase(),a=ue[t];if(a)return[...ce,...a]}return de},getFederalHolidays:()=>ce,getStateHolidays:e=>ue[e.toLowerCase()]||[],getAllHolidays:()=>he,getHistoricalHolidays:()=>ye,isEasterHoliday(){const e=this.getHolidayInfo();return!!e&&"easter-based"===e.type},isCatholicHoliday(){const e=this.getHolidayInfo();return!!e&&["epiphany","corpus-christi","assumption-day","all-saints-day"].includes(e.id)},isProtestantHoliday(){const e=this.getHolidayInfo();return!!e&&["reformation-day","repentance-day"].includes(e.id)},formatGerman(e){const t=e||"dddd, D. MMMM YYYY";return this.format(t)}}),e.addStatic?.({getEasterHolidays(t){const a=de.filter(e=>"easter-based"===e.type),n=[];for(const s of a){const a=e.holidayEngine.calculate(s,t);n.push(...a.map(t=>({date:e(t),name:s.name,id:s.id})))}return n.sort((e,t)=>e.date.valueOf()-t.date.valueOf())},getBusBettag(t){const a=ue.saxony.find(e=>"repentance-day"===e.id);if(a){const n=e.holidayEngine.calculate(a,t);return n.length>0?e(n[0]):null}return null},getStateHolidaysForYear(t,a){const n=ue[t.toLowerCase()];if(!n)return[];const s=[];for(const t of n){const n=e.holidayEngine.calculate(t,a);s.push(...n.map(a=>({date:e(a),name:t.name,id:t.id})))}return s.sort((e,t)=>e.date.valueOf()-t.date.valueOf())},getAvailableStates:()=>Object.keys(ue)})}};const fe=[{id:"new-years-day",name:"元日",type:"fixed",rule:{month:1,day:1}},{id:"coming-of-age-day",name:"成人の日",type:"nth-weekday",rule:{month:1,weekday:1,nth:2}},{id:"national-foundation-day",name:"建国記念の日",type:"fixed",rule:{month:2,day:11}},{id:"emperors-birthday",name:"天皇誕生日",type:"fixed",rule:{month:2,day:23}},{id:"vernal-equinox-day",name:"春分の日",type:"custom",rule:{calculate:e=>W.calculateVernalEquinox(e)}},{id:"showa-day",name:"昭和の日",type:"fixed",rule:{month:4,day:29}},{id:"constitution-day",name:"憲法記念日",type:"fixed",rule:{month:5,day:3}},{id:"greenery-day",name:"みどりの日",type:"fixed",rule:{month:5,day:4}},{id:"childrens-day",name:"こどもの日",type:"fixed",rule:{month:5,day:5}},{id:"marine-day",name:"海の日",type:"nth-weekday",rule:{month:7,weekday:1,nth:3}},{id:"mountain-day",name:"山の日",type:"fixed",rule:{month:8,day:11}},{id:"respect-for-aged-day",name:"敬老の日",type:"nth-weekday",rule:{month:9,weekday:1,nth:3}},{id:"autumnal-equinox-day",name:"秋分の日",type:"custom",rule:{calculate:e=>W.calculateAutumnalEquinox(e)}},{id:"sports-day",name:"スポーツの日",type:"nth-weekday",rule:{month:10,weekday:1,nth:2}},{id:"culture-day",name:"文化の日",type:"fixed",rule:{month:11,day:3}},{id:"labor-thanksgiving-day",name:"勤労感謝の日",type:"fixed",rule:{month:11,day:23}},{id:"golden-week-substitute",name:"ゴールデンウィーク振替休日",type:"custom",rule:{calculate:e=>W.calculateGoldenWeekSubstitutes(e)}}],De=[{id:"emperors-birthday-showa",name:"天皇誕生日（昭和）",type:"fixed",rule:{month:4,day:29},active:!1},{id:"emperors-birthday-heisei",name:"天皇誕生日（平成）",type:"fixed",rule:{month:12,day:23},active:!1},{id:"health-sports-day",name:"体育の日",type:"nth-weekday",rule:{month:10,weekday:1,nth:2},active:!1},{id:"national-holiday",name:"国民の休日",type:"fixed",rule:{month:5,day:4},active:!1}],pe=[{id:"setsubun",name:"節分",type:"fixed",rule:{month:2,day:3}},{id:"hinamatsuri",name:"ひなまつり",type:"fixed",rule:{month:3,day:3}},{id:"cherry-blossom-day",name:"桜の日",type:"fixed",rule:{month:3,day:27}},{id:"mothers-day",name:"母の日",type:"nth-weekday",rule:{month:5,weekday:0,nth:2}},{id:"fathers-day",name:"父の日",type:"nth-weekday",rule:{month:6,weekday:0,nth:3}},{id:"tanabata",name:"七夕",type:"fixed",rule:{month:7,day:7}},{id:"obon",name:"お盆",type:"fixed",rule:{month:8,day:15},duration:3},{id:"respect-for-elderly-day",name:"敬老の日",type:"nth-weekday",rule:{month:9,weekday:1,nth:3}},{id:"shichi-go-san",name:"七五三",type:"fixed",rule:{month:11,day:15}},{id:"christmas",name:"クリスマス",type:"fixed",rule:{month:12,day:25}},{id:"new-years-eve",name:"大晦日",type:"fixed",rule:{month:12,day:31}}],we=fe.filter(e=>["showa-day","constitution-day","greenery-day","childrens-day","golden-week-substitute"].includes(e.id)),Me=fe.filter(e=>"golden-week-substitute"!==e.id),be=[...fe,...pe,...De],ke=fe.filter(e=>"emperors-birthday-showa"!==e.id&&"emperors-birthday-heisei"!==e.id),Ye=[...fe.filter(e=>"emperors-birthday"!==e.id),...De.filter(e=>"emperors-birthday-heisei"===e.id)],He={name:"日本語 (日本)",code:"ja-JP",months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],weekdays:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],weekdaysShort:["日","月","火","水","木","金","土"],weekdaysMin:["日","月","火","水","木","金","土"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm"},ordinal:e=>`${e}日`,meridiem:(e,t,a)=>e<12?"午前":"午後"};var ve={name:"locale-ja-JP",version:"1.0.0",size:2048,dependencies:["holiday-engine","holiday-custom-calculator"],locale:He,install(e,t){w.register("ja-JP",{...He,holidays:fe,publicHolidays:Me,observances:pe,historicalHolidays:De,goldenWeekHolidays:we,reiwaHolidays:ke,heiseiHolidays:Ye}),e.locales=e.locales||{},e.locales["ja-JP"]=He,e.extend({getJapaneseHolidays(e){switch(e){case"public":return Me;case"observances":return pe;case"historical":return De;case"golden-week":return we;case"reiwa":return ke;case"heisei":return Ye;case"all":return be;default:return fe}},getPublicHolidays:()=>Me,getObservances:()=>pe,getGoldenWeekHolidays:()=>we,isGoldenWeekHoliday(){return null!==this.getHolidayInfo(we)},isPublicHoliday(){return null!==this.getHolidayInfo(Me)},isObservance(){return null!==this.getHolidayInfo(pe)},isEquinoxHoliday(){const e=this.getHolidayInfo();return!!e&&["vernal-equinox-day","autumnal-equinox-day"].includes(e.id)},formatJapanese(e){const t=e||"YYYY年M月D日（ddd）";return this.format(t)},getJapaneseEra(){const e=this.year();return e>=2019?"令和":e>=1989?"平成":e>=1926?"昭和":e>=1912?"大正":e>=1868?"明治":"不明"},getJapaneseEraYear(){const e=this.year();return e>=2019?e-2018:e>=1989?e-1988:e>=1926?e-1925:e>=1912?e-1911:e>=1868?e-1867:e},formatWithEra(){return`${this.getJapaneseEra()}${this.getJapaneseEraYear()}年${this.month()}月${this.date()}日`}}),e.addStatic?.({getGoldenWeek(t){const a=[];for(const n of we){const s=e.holidayEngine.calculate(n,t);a.push(...s.map(t=>({date:e(t),name:n.name,id:n.id})))}return a.sort((e,t)=>e.date.valueOf()-t.date.valueOf())},getEquinoxDays(t){const a=fe.filter(e=>["vernal-equinox-day","autumnal-equinox-day"].includes(e.id)),n=[];for(const s of a){const a=e.holidayEngine.calculate(s,t);n.push(...a.map(t=>({date:e(t),name:s.name,id:s.id})))}return n.sort((e,t)=>e.date.valueOf()-t.date.valueOf())},getObon(t){const a=pe.find(e=>"obon"===e.id);if(a){return e.holidayEngine.calculate(a,t).map(t=>e(t))}return[]},isReiwaEra:e=>e>=2019,isHeiseiEra:e=>e>=1989&&e<=2019,isShowaEra:e=>e>=1926&&e<=1989,toJapaneseEra:e=>e>=2019?{era:"令和",year:e-2018}:e>=1989?{era:"平成",year:e-1988}:e>=1926?{era:"昭和",year:e-1925}:e>=1912?{era:"大正",year:e-1911}:e>=1868?{era:"明治",year:e-1867}:{era:"不明",year:e},getHolidaysForEra(e){switch(e){case"reiwa":return ke;case"heisei":return Ye;default:return fe}}})}};const Se="1.0.0",xe="Ersin Koc",Fe="https://github.com/ersinkoc/kairos",Le="https://github.com/ersinkoc/kairos#readme",Oe="Revolutionary zero-dependency JavaScript date/time library with modular architecture and dynamic holiday system";function Ee(){return require("./core/plugin-system.js").default}function Ie(){return require("./core/plugin-system.js").default}function Te(){return require("./core/plugin-system.js").default}function Ce(){return require("./core/plugin-system.js").default}export{xe as AUTHOR,$ as BusinessDayCalculator,G as CalendarCalculator,B as CustomCalculator,W as CustomCalculatorUtils,Oe as DESCRIPTION,S as EasterCalculator,j as FiscalYearCalculator,k as FixedCalculator,Le as HOMEPAGE,e as LRUCache,F as LunarCalculator,H as NthWeekdayCalculator,Fe as REPOSITORY,C as RelativeCalculator,Q as RelativeTimeCalculator,Se as VERSION,he as allGermanHolidays,be as allJapaneseHolidays,re as allTurkishHolidays,X as allUSHolidays,J as businessFiscal,R as businessWorkday,q as calendarPlugin,a as createDateCache,n as createHolidayCache,_ as customCalculator,D as default,x as easterCalculator,Y as fixedCalculator,ce as germanFederalHolidays,ye as germanHistoricalHolidays,de as germanHolidays,ue as germanStateHolidays,b as holidayEngine,s as isValidDate,d as isValidDay,l as isValidMonth,c as isValidNth,r as isValidNumber,i as isValidString,u as isValidWeekday,o as isValidYear,we as japaneseGoldenWeekHolidays,Ye as japaneseHeiseiHolidays,De as japaneseHistoricalHolidays,fe as japaneseHolidays,pe as japaneseObservances,Me as japanesePublicHolidays,ke as japaneseReiwaHolidays,ge as localeDE,ve as localeJP,le as localeTR,te as localeUS,T as lunarCalculator,t as memoize,v as nthWeekdayCalculator,N as relativeCalculator,U as relativeTimePlugin,Ee as setupBasic,Ce as setupFull,Ie as setupWithBusiness,Te as setupWithLocales,y as throwError,se as turkishHistoricalHolidays,ae as turkishHolidays,ne as turkishObservances,ie as turkishPublicHolidays,Z as usFederalHolidays,K as usHolidays,V as usStateHolidays,h as validateHolidayRule};
//# sourceMappingURL=kairos.esm.min.js.map
